# 高德地图配置说明

## 1. 获取高德地图API Key

1. 访问 [高德开放平台](https://lbs.amap.com/)
2. 注册/登录账号
3. 进入控制台 -> 应用管理 -> 创建新应用
4. 添加 Key，选择平台为"Web端(JS API)"
5. 配置安全密钥（可选，但推荐）

## 2. 配置API Key

### 前端配置

编辑 `frontend-user/index.html`，将 `your-amap-key` 替换为你的高德地图API Key：

```html
<script type="text/javascript" src="https://webapi.amap.com/maps?v=2.0&key=YOUR_AMAP_KEY"></script>
```

### 后端配置（如果需要）

如果后端需要使用高德地图API（如地理编码、路径规划等），在 `application.yml` 中添加：

```yaml
amap:
  key: YOUR_AMAP_KEY
  secret: YOUR_AMAP_SECRET  # 如果配置了安全密钥
```

## 3. 功能说明

### 已实现的地图功能

1. **地图展示**
   - 显示附近充电站
   - 根据充电站状态显示不同颜色的标记
   - 显示可用桩数

2. **搜索功能**
   - 地址搜索（地理编码）
   - 关键词搜索充电站

3. **导航功能**
   - 起点到终点的路径规划
   - 导航到指定充电站

4. **沿途搜索**
   - 根据起点、终点和车辆续航规划沿途充电站
   - 在地图上显示路线和充电站位置

## 4. 注意事项

1. **配额限制**：高德地图API有每日调用次数限制，请根据实际使用情况选择合适的套餐
2. **安全密钥**：生产环境建议配置安全密钥，防止API Key泄露
3. **HTTPS**：生产环境建议使用HTTPS协议
4. **域名白名单**：在控制台配置允许调用API的域名白名单

## 5. 测试

配置完成后，访问以下页面测试地图功能：
- `/map` - 地图找桩
- `/route-search` - 沿途搜索

如果地图正常显示，说明配置成功。

